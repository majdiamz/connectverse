# ConnectVerse Product Overview

This document outlines the purpose of each page in the ConnectVerse application and the key actions a user can perform.

## 1. Dashboard

**Purpose:** To provide a high-level, at-a-glance overview of business performance and key metrics across all communication channels.

**Use Cases:**
- **Access Restriction:** Commercial users do not have access to the Dashboard and are redirected to Customers.
- **View Key Statistics:** Quickly see total conversations, new leads, average response rate, and the number of currently open conversations.
- **Analyze Conversation Trends:** Monitor the volume of new vs. resolved conversations over the past six months to understand support load and team efficiency.
- **Track Deals Pipeline:** See the total monetary value of deals at each stage of the sales funnel (e.g., New, Qualified, Won).
- **Monitor Channel Performance:** Compare performance metrics across different integrated platforms (WhatsApp, Messenger, etc.), including conversation volume, leads generated, and conversion rates.

## 2. Inbox

**Purpose:** To provide a unified inbox where users can manage all contact conversations from every integrated channel in one place.

**Use Cases:**
- **View All Conversations:** See a paginated list of all conversations, which can be filtered by channel, read/unread status, date, or searched by contact name/email.
- **Engage in Real-time Chat:** Select a conversation to view the full message history and send new messages to the contact.
- **Access Contact Context:** While in a conversation, view the contact's profile, including their details, funnel stage, and deal history.
- **Update Contact Status:** Change a contact's stage in the sales funnel directly from the inbox view.
- **Create New Deals:** Initiate and create a new sales deal for a contact without leaving the conversation.
- **Load More Messages:** For long conversations, load older messages as needed to see the full history.

## 3. Email

**Purpose:** To provide a fully functional email client within the application for managing email communications.

**Use Cases:**
- **Manage Mailbox Folders:** Navigate between different email folders (Inbox, Sent, Drafts, Trash).
- **Compose and Send Emails:** Open a dialog to write and send new emails to any recipient.
- **Read and Reply to Emails:** View incoming emails, see the sender's details, and use reply/forward actions.
- **Mark Emails as Read:** Selecting an email automatically marks it as read.
- **Search Emails:** Find specific emails using a search bar.

## 4. Contacts

**Purpose:** To act as a Customer Relationship Management (CRM) hub for viewing, managing, and organizing all contact/lead information.

**Use Cases:**
- **View and Filter Contact List:** See a paginated list of all contacts. Filter the list by source (channel), status, tags, or the date they were added.
- **Search for Contacts:** Quickly find a specific contact using the search bar.
- **Add a New Contact:** Manually add a new contact by filling out a form with their details.
- **Edit Existing Contact:** Update the information for any contact, including setting a price. Updating the price also syncs the amount on the contact's most recent deal.
- **View Contact Details:** Click on a contact to open a detailed modal view showing their complete profile, deal history, and a link to their conversations.
- **Create Deals from Contact Details:** From the contact detail modal, create a new deal for any contact. This is especially useful for commercial users who see returning messages on their phone and need to start a new deal without inbox access.
- **View Pricing at a Glance:** The contacts table displays each contact's price alongside their other details.
- **Bulk Actions:** Select multiple contacts to perform bulk actions, such as exporting their data to a CSV file.

## 5. Funnel

**Purpose:** To provide a visual, Kanban-style board of the sales funnel, allowing users to track and manage contacts as they move through different stages.

**Use Cases:**
- **Visualize the Sales Pipeline:** See all contacts organized into columns representing each stage of the funnel (New, Contacted, Qualified, Demo, Won, Unqualified).
- **Update Contact Status via Drag-and-Drop:** Move contacts between stages by dragging and dropping their cards from one column to another.
- **View Stage Value:** See the total number of contacts and the total monetary value of deals in each stage.
- **Filter the Funnel View:** Apply filters based on channel, tags, or date to refine the contacts shown on the board.
- **Switch to List View:** Toggle between the Kanban board and a traditional table view of all contacts in the funnel.

## 6. Integrations

**Purpose:** To allow users to connect and manage their accounts from various messaging platforms.

**Use Cases:**
- **View Integration Status:** See a list of all supported channels (Messenger, Instagram, TikTok) and whether they are currently connected or disconnected.
- **Connect a New Channel:** Enter an API key for a disconnected channel to enable its integration with ConnectVerse.
- **Disconnect a Channel:** Remove an existing integration.
- **Multiple WhatsApp Integrations:** Each commercial (user) can connect their own WhatsApp number via QR code scanning (powered by Baileys, no API key needed). Admins see all WhatsApp integrations; commercials see only their own.
- **QR Code Connection:** Click "Add WhatsApp" to start a session, scan the displayed QR code with WhatsApp on your phone, and the connection is established automatically.
- **Auto-Deal Creation:** When a new contact sends a WhatsApp message, a Deal is automatically created for that contact (status: In Progress, amount: 0).
- **Admin-Only Inbox:** Only admin users can access the unified inbox. Commercials manage deals but do not have inbox access.
- **Commercial Filter:** Admins can filter inbox conversations by commercial (WhatsApp integration) to see messages for a specific team member.
- **10-Minute Message Refresh:** The inbox automatically refreshes conversations every 10 minutes.

## 7. Status

**Purpose:** To provide transparency into the operational status of the application's services and to log recent updates.

**Use Cases:**
- **Check Service Health:** View the real-time status (Operational, Degraded, Outage) of all core services.
- **View Update History:** Read through a log of recent application updates, including version numbers, dates, and a list of changes for each version.

## 8. Support

**Purpose:** To offer a direct line of communication with the support team for help and troubleshooting.

**Use Cases:**
- **Live Chat with Support:** Send and receive messages from the support team in a real-time chat interface.
- **View Business Information:** Easily access the company's contact details (address, phone, email) for alternative ways to get in touch.

## 9. FAQ

**Purpose:** To provide a self-service resource where users can find answers to frequently asked questions, particularly about API key integration.

**Use Cases:**
- **Find Integration Guides:** Read step-by-step instructions on how to obtain API keys for WhatsApp, Messenger, Instagram, and TikTok.
- **Access Official Documentation:** Find direct links to the official developer documentation for each platform.

## 10. Settings

**Purpose:** To allow users to configure their business profile, and for super admins to manage all organizations and users on the platform.

**Use Cases:**
- **Access Restriction:** Commercial users do not have access to Settings and are redirected to Customers.
- **Update Business Profile:** Admin users can view and edit their organization's business information (company name, address, phone, email).
- **Manage Organizations (Super Admin):** Super admins see an Organizations tab listing all organizations on the platform with user counts. They can create new organizations, edit organization names, and delete organizations.
- **Manage Users (Super Admin):** Super admins see a Users tab where they can select an organization and manage its users. They can create new users (with a default password), edit user details and roles (admin or commercial), and delete users.
- **Role-Based Access:** Admin users see the Business Profile form. Super admins see the Organizations and Users management tabs. Commercial users have no access.

## 11. Deployment

**Purpose:** To provide configuration options for deploying the application in different environments (development vs. production).

**Use Cases:**
- **Production Clean Deploy (AUTO_CLEAN):** Set the AUTO_CLEAN environment variable to reset the database to a clean state with empty tables and only the super admin user. This allows the super admin to then create organizations and users from scratch via Settings.
- **Development Seed (AUTO_SEED):** Set the AUTO_SEED environment variable to populate the database with sample data for development and testing purposes.